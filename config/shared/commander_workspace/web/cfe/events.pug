extends ../common/layout

block header

block main
  style.

    .table > thead > tr > td.critical,
    .table > tbody > tr > td.critical,
    .table > tfoot > tr > td.critical,
    .table > thead > tr > th.critical,
    .table > tbody > tr > th.critical,
    .table > tfoot > tr > th.critical,
    .table > thead > tr.critical > td,
    .table > tbody > tr.critical > td,
    .table > tfoot > tr.critical > td,
    .table > thead > tr.critical > th,
    .table > tbody > tr.critical > th,
    .table > tfoot > tr.critical > th
    {
      color: #b94a48;
      background-color: #f2dede;
      border-color: #f2dede;
    }
    
    .table > thead > tr > td.error,
    .table > tbody > tr > td.error,
    .table > tfoot > tr > td.error,
    .table > thead > tr > th.error,
    .table > tbody > tr > th.error,
    .table > tfoot > tr > th.error,
    .table > thead > tr.error > td,
    .table > tbody > tr.error > td,
    .table > tfoot > tr.error > td,
    .table > thead > tr.error > th,
    .table > tbody > tr.error > th,
    .table > tfoot > tr.error > th
    {
      color: #b94a48;
      background-color: #fcf8e3;
      border-color: #f2dede;
    }
    
    .table > thead > tr > td.info,
    .table > tbody > tr > td.info,
    .table > tfoot > tr > td.info,
    .table > thead > tr > th.info,
    .table > tbody > tr > th.info,
    .table > tfoot > tr > th.info,
    .table > thead > tr.info > td,
    .table > tbody > tr.info > td,
    .table > tfoot > tr.info > td,
    .table > thead > tr.info > th,
    .table > tbody > tr.info > th,
    .table > tfoot > tr.info > th
    {
      color: #3a87ad;
      background-color: #d9edf7;
      border-color: #bce8f1;
    }
    
    .table > thead > tr > td.debug,
    .table > tbody > tr > td.debug,
    .table > tfoot > tr > td.debug,
    .table > thead > tr > th.debug,
    .table > tbody > tr > th.debug,
    .table > tfoot > tr > th.debug,
    .table > thead > tr.debug > td,
    .table > tbody > tr.debug > td,
    .table > tfoot > tr.debug > td,
    .table > thead > tr.debug > th,
    .table > tbody > tr.debug > th,
    .table > tfoot > tr.debug > th
    {
      color: #468847;
      background-color: #dff0d8;
      border-color: #d6e9c6;
    }
    
  .row
    article.col-xs-12.col-sm-12.col-md-12.col-lg-12
      #wid-EventViewer.jarviswidget.jarviswidget-color-blueDark(data-widget-editbutton='false')
        header
          span.widget-icon
            i.fa.fa-table
          h2 Event Viewer
        div
          .jarviswidget-editbox
            input.form-control(type='text')
          .widget-body
            .table-responsive
              table.table.table-striped.table-condensed.table-compressed
               thead
                 th(style={width:'50px'}) Date/Time
                 th(style={width:'50px'}) Type
                 th(style={width:'50px'}) Source
                 th Message
               tbody#EventTable

  script.
    $(function () {
      session.subscribeToEvents(function(event) {
        $('#EventTable').append('<tr>'+
          '<td>'+event.data.generationTimeUTC+'</td>'+
          '<td>'+event.data.type+'</td>'+
          '<td>'+event.data.source+'</td>'+
          '<td>'+event.data.message+'</td>'+
          '</tr>');  
      });
    });



